import{useState as F}from"react";import V from"./EditQuantityModal/index.js";import{TrashIcon as I}from"../../../icons-v2/TrashIcon/index.js";import{theme as L}from"../../../theme/index.js";import{Container as R,InputContainer as W,ActionButton as g,IconWrapper as q,Span as x}from"./styles.js";import{jsxs as w,Fragment as G,jsx as r}from"react/jsx-runtime";const Y=({value:o,onSetQuantity:e,onDelete:i,minimumQuantity:p=1,maximumQuantity:l=null,measureUnit:E,onlyIntegers:f,blockInputModal:d,disabled:a,hasError:N,variant:P,renderModal:C,zIndex:M,style:S,styleContainer:b,noDecrement:j,noIncrement:k})=>{const[A,h]=F(!1),t=Number(o||0),c=o===null||t<=p,T=l!==null&&Number(o)>=l,$=n=>{n.stopPropagation();const s=t%1!==0?Math.ceil(t):t+1;e(l!==null?Math.min(l,s):s)},B=n=>{if(n.stopPropagation(),c){i&&i();return}const s=t%1>0?Math.floor(t):t-1;e(Math.max(s,p))},m=n=>{const s=f?Math.round(n):n,u=Math.max(s,p);e(l!==null?Math.min(l,u):u),h(!1)};return w(G,{children:[r(R,{style:b,children:w(W,{isDisabled:a,onClick:n=>{n.stopPropagation(),!(d||a)&&h(!0)},minQuantity:c,canDelete:!!i,variant:P,error:N,style:S,children:[!j&&r(g,{disabled:a||c&&!i,alert:c&&!!i,onClick:B,children:c&&i?r(q,{children:r(I,{color:L.color.ALERT[900]})}):"-"}),r(x,{children:`${o===null?"-":o} ${o!==null&&E||""}`}),!k&&r(g,{type:"button",onClick:$,disabled:a||T,children:"+"})]})}),A&&!d&&(C?C(r(V,{onClose:()=>h(!1),onConfirm:m,initialValue:o?o.toString():"",onlyIntegers:f,zIndex:M})):r(V,{onClose:()=>h(!1),onConfirm:m,initialValue:o?o.toString():"",onlyIntegers:f,zIndex:M}))]})};export{Y as EditQuantityInput};
