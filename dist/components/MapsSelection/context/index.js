import{createContext as g,useState as o,useRef as v,useEffect as R,useContext as G}from"react";import w from"../../../hooks/useFirstRender.js";import{jsx as A}from"react/jsx-runtime";const i=g({}),P={lat:0,lng:0,locality:"",address:""},E=({children:r,onSelectAddress:n,API_KEY:d,initialData:l={},onSelectCoordinates:a})=>{const[s,c]=o({loaded:!1,api:null,instance:null}),[e,f]=o({...P,...l}),[p,u]=o({lat:e.lat,lng:e.lng}),C=v(!1),x=w(),m=t=>{t.viewport?s.instance.fitBounds(t.viewport):(s.instance.setCenter(t.location),s.instance.setZoom(17))},M=t=>{u(t),a&&a(t)};return R(()=>{x||n(e)},[e]),A(i.Provider,{value:{API_KEY:d,map:s,setMap:c,onSelectAddress:n,addressState:e,setAddressState:f,coordinates:p,setCoordinates:M,setMapCenter:m,editedAddressRef:C},children:r})},F=()=>G(i);export{i as GoogleMapCtx,E as default,F as useGoogleMapCtx};
