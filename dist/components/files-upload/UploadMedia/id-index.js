import{useState as c,useEffect as p}from"react";import b from"../../../hooks/id-useFirstRender.js";import{CloseIcon as I}from"../../../icons-v2/CloseIcon/id-index.js";import{IconButton as w}from"../../buttons/IconButton/id-styles.js";import{UploadFileContainer as y}from"../UploadFileContainer/id-index.js";import{getURLData as u}from"../id-utils.js";import{Display as L,Img as x,ImgInfo as D,Placeholder as O,DefaultMessage as v}from"./id-styles.js";import{jsx as n,jsxs as t}from"react/jsx-runtime";const z=({initialImgUrl:a,placeholder:d,onChange:f,onError:m,acceptedFiles:h,validFileExtensions:g,noDisplay:U=!1,maxKBSize:j,image:o})=>{const[e,i]=c(null),[r,s]=c(a||null),R=b();return p(()=>{let l="";return e&&(l=window.URL.createObjectURL(e),s(l)),()=>{l&&window.URL.revokeObjectURL(l)}},[e]),p(()=>{R||f(e,r||null)},[r]),n(y,{onError:m||alert,onSelectFile:l=>i(l),acceptedFiles:h,validFileExtensions:g,maxKBSize:j,children:r&&!U?t(L,{children:[t(x,{children:[(e==null?void 0:e.type.includes("image"))||r.includes("jpeg")||r.includes("jpg")||r.includes("webp")||r.includes("png")?n("img",{src:r,alt:""}):o?typeof o=="string"?n("img",{src:o,alt:""}):o:null,t(D,{children:[n("span",{children:(e==null?void 0:e.name)||u(r)[0]}),n("span",{children:(e==null?void 0:e.type)||u(r)[1]})]})]}),n(w,{variant:"secondary",onClick:l=>{l.stopPropagation(),i(null),s(null)},children:n(I,{size:12})})]}):n(O,{children:d||t(v,{children:["Sube un archivo ",n("span",{children:"aqu\xED"})]})})})};export{z as UploadMedia};
