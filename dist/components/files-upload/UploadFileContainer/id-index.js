import{useRef as g}from"react";import{validateFileSize as m}from"../../../utils/id-validators.js";import{jsxs as F,jsx as v}from"react/jsx-runtime";const E=({onSelectFile:l,maxKBSize:t,onError:s=()=>{},acceptedFiles:f,validFileExtensions:a,children:p,style:u,multiple:i})=>{const n=g(null),h=()=>n.current.click(),d=e=>a?new RegExp(`${a.join("|")}$`,"i").exec(e.toLowerCase()):!0,c=e=>{if(e.length!==0)try{e.forEach(r=>{if(!d(r.name))throw new Error("Tipo de archivo no permitido");if(t!==null){const o=m(r,t);if(!o.success&&o.error)throw new Error(o.error.message)}}),l(i?e:e[0])}catch(r){r instanceof Error&&s(r.message)}};return F("div",{onClick:h,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.stopPropagation(),e.preventDefault();const{files:r}=e.dataTransfer;c(Array.from(r))},style:u,children:[p,v("input",{ref:n,style:{display:"none"},onChange:()=>{const{files:e}=n.current;e&&(c(Array.from(e)),n.current.value="")},type:"file",accept:f,multiple:i})]})};export{E as UploadFileContainer};
