import{useRef as g}from"react";import{validateFileSize as m}from"../../../utils/validators.js";import{jsxs as F,jsx as C}from"react/jsx-runtime";const E=({onSelectFile:l,maxKBSize:t,onError:s=()=>{},acceptedFiles:f,validFileExtensions:i,children:p,style:h,multiple:a})=>{const n=g(null),u=()=>n.current.click(),d=e=>i?new RegExp(`${i.join("|")}$`,"i").exec(e.toLowerCase()):!0,c=e=>{if(e.length!==0)try{e.forEach(r=>{if(!d(r.name))throw new Error("Tipo de archivo no permitido");if(t!==null){const o=m(r,t);if(!o.success&&o.error)throw new Error(o.error.message)}}),l(a?e:e[0])}catch(r){r instanceof Error&&s(r.message)}};return F("div",{onClick:u,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.stopPropagation(),e.preventDefault();const{files:r}=e.dataTransfer;c(Array.from(r))},style:h,children:[p,C("input",{ref:n,style:{display:"none"},onChange:()=>{const{files:e}=n.current;e&&c(Array.from(e))},type:"file",accept:f,multiple:a})]})};export{E as UploadFileContainer};
