import{useEffect as l}from"react";function y(i,p,a,r){const d=()=>{const t=document.querySelectorAll("input");return Array.from(t).filter(e=>e.className===p)};l(()=>{var n;const t=e=>{e.key==="Backspace"&&setTimeout(()=>{const u=document.activeElement,o=d();u.value="";const s=o.indexOf(u);s>0&&o[s-1].focus()},0)};return(n=document.getElementById(r||"root"))==null||n.addEventListener("keydown",t),()=>{var e;return(e=document.getElementById(r||"root"))==null?void 0:e.removeEventListener("keydown",t)}},[]),l(()=>{var n;const t=e=>{if(e.key!=="Backspace"){const u=e.key.toLowerCase();setTimeout(()=>{const o=document.activeElement;if(u.length===1){if(o.value=u,!o.value)return;const s=d(),c=s.indexOf(o);c<s.length-1&&s[c+1].focus()}},0)}};return(n=document.getElementById(r||"root"))==null||n.addEventListener("keydown",t),()=>{var e;return(e=document.getElementById(r||"root"))==null?void 0:e.removeEventListener("keydown",t)}},[]),l(()=>{var t;if(i){const n=e=>{const u=e.key.toLowerCase();(u.length===1||u==="backspace")&&setTimeout(()=>{const s=d().map(c=>c.value).join("");i(s)},0)};return(t=document.getElementById(r||"root"))==null||t.addEventListener("keydown",n),()=>{var e;return(e=document.getElementById(r||"root"))==null?void 0:e.removeEventListener("keydown",n)}}},[]),l(()=>{if(a){const t=d(),n=t.map(o=>o.value),e=a.split(""),u=e.length===n.length?e:n;t.forEach((o,s)=>{const c=u[s];c&&(o.value=c)})}},[a])}export{y as default};
